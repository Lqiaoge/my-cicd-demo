<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APIå®‰å…¨è®¤è¯æ–‡æ¡£ - SpringBoot Study Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .main-content {
            background: white;
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
        }

        .section h3 {
            color: #34495e;
            margin: 25px 0 15px 0;
        }

        .section p {
            color: #7f8c8d;
            margin-bottom: 15px;
        }

        .auth-method {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #3498db;
        }

        .auth-method h4 {
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .code-block {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
        }

        .example {
            background: #e8f5e8;
            border: 1px solid #27ae60;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }

        .example h5 {
            color: #27ae60;
            margin-bottom: 10px;
        }

        .warning {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }

        .warning h5 {
            color: #856404;
            margin-bottom: 10px;
        }

        .info {
            background: #d1ecf1;
            border: 1px solid #17a2b8;
            border-radius: 5px;
            padding: 15px;
            margin: 15px 0;
        }

        .info h5 {
            color: #0c5460;
            margin-bottom: 10px;
        }

        .btn {
            display: inline-block;
            padding: 10px 20px;
            background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
            color: white;
            text-decoration: none;
            border-radius: 5px;
            transition: all 0.3s ease;
            font-weight: 500;
            margin: 10px 10px 10px 0;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .btn.secondary {
            background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        th {
            background-color: #f2f2f2;
            font-weight: bold;
        }

        .status-code {
            font-weight: bold;
            padding: 2px 6px;
            border-radius: 3px;
            color: white;
        }

        .status-200 { background-color: #27ae60; }
        .status-400 { background-color: #e74c3c; }
        .status-401 { background-color: #f39c12; }
        .status-403 { background-color: #e67e22; }
        .status-500 { background-color: #8e44ad; }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2em;
            }
            
            .main-content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ” APIå®‰å…¨è®¤è¯æ–‡æ¡£</h1>
            <p>SpringBoot Study Demo - å®‰å…¨è®¤è¯æŒ‡å—</p>
        </div>

        <div class="main-content">
            <div class="section">
                <h2>æ¦‚è¿°</h2>
                <p>æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†SpringBoot Study Demoé¡¹ç›®ä¸­APIçš„å®‰å…¨è®¤è¯æœºåˆ¶ã€‚å½“å‰é¡¹ç›®ä¸»è¦ç”¨äºå­¦ä¹ å’Œæ¼”ç¤ºï¼Œå¤§éƒ¨åˆ†APIæš‚æ—¶æœªå¯ç”¨ä¸¥æ ¼çš„è®¤è¯æœºåˆ¶ï¼Œä½†æä¾›äº†å®Œæ•´çš„å®‰å…¨é…ç½®ç¤ºä¾‹å’Œæœ€ä½³å®è·µã€‚</p>
                
                <div class="info">
                    <h5>ğŸ“‹ å½“å‰çŠ¶æ€</h5>
                    <p>é¡¹ç›®å½“å‰å¤„äºå¼€å‘æ¼”ç¤ºé˜¶æ®µï¼Œå¤§éƒ¨åˆ†APIç«¯ç‚¹å…è®¸åŒ¿åè®¿é—®ä»¥ä¾¿äºæµ‹è¯•å’Œå­¦ä¹ ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå»ºè®®æ ¹æ®å®é™…éœ€æ±‚å¯ç”¨ç›¸åº”çš„å®‰å…¨è®¤è¯æœºåˆ¶ã€‚</p>
                </div>
            </div>

            <div class="section">
                <h2>æ”¯æŒçš„è®¤è¯æ–¹å¼</h2>
                
                <div class="auth-method">
                    <h4>1. æ— è®¤è¯è®¿é—® (å½“å‰é»˜è®¤)</h4>
                    <p>å¤§éƒ¨åˆ†APIç«¯ç‚¹å½“å‰å…è®¸æ— è®¤è¯è®¿é—®ï¼Œé€‚ç”¨äºå¼€å‘å’Œæµ‹è¯•ç¯å¢ƒã€‚</p>
                    
                    <div class="example">
                        <h5>ç¤ºä¾‹è¯·æ±‚</h5>
                        <div class="code-block">
curl -X GET "http://localhost:8080/test/getUser/123" \
     -H "Accept: application/json"</div>
                    </div>
                </div>

                <div class="auth-method">
                    <h4>2. API Keyè®¤è¯ (å¯é…ç½®)</h4>
                    <p>é€šè¿‡åœ¨è¯·æ±‚å¤´ä¸­æ·»åŠ API Keyè¿›è¡Œèº«ä»½éªŒè¯ã€‚</p>
                    
                    <div class="example">
                        <h5>è¯·æ±‚å¤´é…ç½®</h5>
                        <div class="code-block">
X-API-Key: your-api-key-here
Content-Type: application/json</div>
                    </div>
                    
                    <div class="example">
                        <h5>ç¤ºä¾‹è¯·æ±‚</h5>
                        <div class="code-block">
curl -X POST "http://localhost:8080/api/mail/send" \
     -H "X-API-Key: demo-api-key-123" \
     -H "Content-Type: application/json" \
     -d '{
       "to": "user@example.com",
       "subject": "æµ‹è¯•é‚®ä»¶",
       "content": "è¿™æ˜¯ä¸€å°æµ‹è¯•é‚®ä»¶"
     }'</div>
                    </div>
                </div>

                <div class="auth-method">
                    <h4>3. JWT Tokenè®¤è¯ (æ¨èç”¨äºç”Ÿäº§)</h4>
                    <p>ä½¿ç”¨JSON Web Tokenè¿›è¡Œæ— çŠ¶æ€èº«ä»½éªŒè¯ï¼Œé€‚ç”¨äºåˆ†å¸ƒå¼ç³»ç»Ÿã€‚</p>
                    
                    <div class="example">
                        <h5>è·å–Token</h5>
                        <div class="code-block">
POST /auth/login
Content-Type: application/json

{
  "username": "admin",
  "password": "password"
}

å“åº”:
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "expiresIn": 3600
}</div>
                    </div>
                    
                    <div class="example">
                        <h5>ä½¿ç”¨Tokenè®¿é—®API</h5>
                        <div class="code-block">
curl -X GET "http://localhost:8080/api/secure/data" \
     -H "Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..." \
     -H "Content-Type: application/json"</div>
                    </div>
                </div>

                <div class="auth-method">
                    <h4>4. Basic Authentication (ç®€å•è®¤è¯)</h4>
                    <p>ä½¿ç”¨ç”¨æˆ·åå’Œå¯†ç è¿›è¡ŒåŸºç¡€è®¤è¯ï¼Œé€‚ç”¨äºå†…éƒ¨ç³»ç»Ÿã€‚</p>
                    
                    <div class="example">
                        <h5>ç¤ºä¾‹è¯·æ±‚</h5>
                        <div class="code-block">
curl -X GET "http://localhost:8080/admin/stats" \
     -u "admin:password" \
     -H "Content-Type: application/json"</div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>APIç«¯ç‚¹å®‰å…¨çº§åˆ«</h2>
                
                <table>
                    <thead>
                        <tr>
                            <th>APIåˆ†ç»„</th>
                            <th>ç«¯ç‚¹ç¤ºä¾‹</th>
                            <th>å½“å‰å®‰å…¨çº§åˆ«</th>
                            <th>æ¨èç”Ÿäº§çº§åˆ«</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>é‚®ä»¶æœåŠ¡</td>
                            <td>/api/mail/*</td>
                            <td>æ— è®¤è¯</td>
                            <td>API Key / JWT</td>
                        </tr>
                        <tr>
                            <td>æ–‡ä»¶æœåŠ¡</td>
                            <td>/api/file/*</td>
                            <td>æ— è®¤è¯</td>
                            <td>JWT + æƒé™æ§åˆ¶</td>
                        </tr>
                        <tr>
                            <td>RedisæœåŠ¡</td>
                            <td>/api/redis/*</td>
                            <td>æ— è®¤è¯</td>
                            <td>JWT + ç®¡ç†å‘˜æƒé™</td>
                        </tr>
                        <tr>
                            <td>æµ‹è¯•æ¥å£</td>
                            <td>/test/*, /test2/*</td>
                            <td>æ— è®¤è¯</td>
                            <td>å¼€å‘ç¯å¢ƒä¸“ç”¨</td>
                        </tr>
                        <tr>
                            <td>ç³»ç»Ÿç›‘æ§</td>
                            <td>/actuator/*</td>
                            <td>éƒ¨åˆ†ä¿æŠ¤</td>
                            <td>Basic Auth</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="section">
                <h2>é”™è¯¯å“åº”</h2>
                
                <h3>è®¤è¯å¤±è´¥å“åº”æ ¼å¼</h3>
                <div class="code-block">
{
  "timestamp": "2024-01-15T10:30:00.000+00:00",
  "status": 401,
  "error": "Unauthorized",
  "message": "è®¤è¯å¤±è´¥ï¼šæ— æ•ˆçš„API Key",
  "path": "/api/mail/send"
}</div>

                <h3>å¸¸è§çŠ¶æ€ç </h3>
                <table>
                    <thead>
                        <tr>
                            <th>çŠ¶æ€ç </th>
                            <th>è¯´æ˜</th>
                            <th>å¸¸è§åŸå› </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><span class="status-code status-200">200</span></td>
                            <td>è¯·æ±‚æˆåŠŸ</td>
                            <td>è®¤è¯é€šè¿‡ï¼Œæ“ä½œæˆåŠŸ</td>
                        </tr>
                        <tr>
                            <td><span class="status-code status-400">400</span></td>
                            <td>è¯·æ±‚é”™è¯¯</td>
                            <td>å‚æ•°æ ¼å¼é”™è¯¯ï¼Œç¼ºå°‘å¿…è¦å­—æ®µ</td>
                        </tr>
                        <tr>
                            <td><span class="status-code status-401">401</span></td>
                            <td>æœªæˆæƒ</td>
                            <td>ç¼ºå°‘è®¤è¯ä¿¡æ¯æˆ–è®¤è¯å¤±è´¥</td>
                        </tr>
                        <tr>
                            <td><span class="status-code status-403">403</span></td>
                            <td>ç¦æ­¢è®¿é—®</td>
                            <td>æƒé™ä¸è¶³ï¼Œæ— æ³•è®¿é—®èµ„æº</td>
                        </tr>
                        <tr>
                            <td><span class="status-code status-500">500</span></td>
                            <td>æœåŠ¡å™¨é”™è¯¯</td>
                            <td>æœåŠ¡å™¨å†…éƒ¨é”™è¯¯</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="section">
                <h2>å®‰å…¨æœ€ä½³å®è·µ</h2>
                
                <div class="warning">
                    <h5>âš ï¸ ç”Ÿäº§ç¯å¢ƒæ³¨æ„äº‹é¡¹</h5>
                    <ul>
                        <li>å¯ç”¨HTTPSåŠ å¯†ä¼ è¾“</li>
                        <li>é…ç½®é€‚å½“çš„è®¤è¯æœºåˆ¶</li>
                        <li>å®æ–½APIè®¿é—®é¢‘ç‡é™åˆ¶</li>
                        <li>å®šæœŸè½®æ¢APIå¯†é’¥</li>
                        <li>è®°å½•å’Œç›‘æ§APIè®¿é—®æ—¥å¿—</li>
                        <li>é…ç½®CORSç­–ç•¥</li>
                    </ul>
                </div>

                <h3>é…ç½®ç¤ºä¾‹</h3>
                <div class="code-block">
# application.yml å®‰å…¨é…ç½®ç¤ºä¾‹
security:
  api:
    key:
      enabled: true
      header-name: X-API-Key
      valid-keys:
        - demo-api-key-123
        - prod-api-key-456
  jwt:
    secret: your-jwt-secret-key
    expiration: 3600
  cors:
    allowed-origins: 
      - http://localhost:3000
      - https://yourdomain.com
    allowed-methods: GET,POST,PUT,DELETE
    allowed-headers: "*"</div>
            </div>

            <div class="section">
                <h2>å¿«é€Ÿå¼€å§‹</h2>
                <p>é€‰æ‹©é€‚åˆæ‚¨éœ€æ±‚çš„è®¤è¯æ–¹å¼å¼€å§‹ä½¿ç”¨APIï¼š</p>
                
                <a href="/swagger-ui.html" class="btn">ğŸ“– æŸ¥çœ‹APIæ–‡æ¡£</a>
                <a href="/api-docs.html" class="btn secondary">ğŸ  è¿”å›é¦–é¡µ</a>
                <a href="/actuator/health" class="btn secondary">ğŸ’š ç³»ç»Ÿå¥åº·æ£€æŸ¥</a>
            </div>
        </div>
    </div>

    <script>
        // æ·»åŠ ä»£ç å—å¤åˆ¶åŠŸèƒ½
        document.addEventListener('DOMContentLoaded', function() {
            const codeBlocks = document.querySelectorAll('.code-block');
            
            codeBlocks.forEach(block => {
                // åˆ›å»ºå¤åˆ¶æŒ‰é’®
                const copyBtn = document.createElement('button');
                copyBtn.textContent = 'å¤åˆ¶';
                copyBtn.style.cssText = `
                    position: absolute;
                    top: 10px;
                    right: 10px;
                    background: #3498db;
                    color: white;
                    border: none;
                    padding: 5px 10px;
                    border-radius: 3px;
                    cursor: pointer;
                    font-size: 12px;
                `;
                
                // è®¾ç½®ä»£ç å—ä¸ºç›¸å¯¹å®šä½
                block.style.position = 'relative';
                block.appendChild(copyBtn);
                
                // æ·»åŠ å¤åˆ¶åŠŸèƒ½
                copyBtn.addEventListener('click', function() {
                    const text = block.textContent.replace('å¤åˆ¶', '').trim();
                    navigator.clipboard.writeText(text).then(() => {
                        copyBtn.textContent = 'å·²å¤åˆ¶';
                        setTimeout(() => {
                            copyBtn.textContent = 'å¤åˆ¶';
                        }, 2000);
                    });
                });
            });
        });
    </script>
</body>
</html>